<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 2rem;
        background-color: #f5f5f5;
        color: #333;
      }
      h1 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }
      p {
        font-size: 1rem;
        margin-bottom: 0.5rem;
      }
      code {
        font-family: monospace;
        background-color: #f0f0f0;
        padding: 0.2rem 0.4rem;
        border-radius: 3px;
      }
      ol {
        margin-left: 1rem;
      }
      ul {
        list-style-type: disc;
        margin-left: 1rem;
      }
    </style>
    <title>
      Comandos para configurar un linter y un code formatter con React
    </title>
  </head>
  <body>
    <h1>Pasos para configurar un linter(ESLint) y un code formatter(Prettier) con React</h1>
    <p>
      A continuación se presentan los comandos para configurar ESLint y Prettier
      en tu proyecto de React:
    </p>

    <p><strong>1. Instalar ESLint como dependencia de desarrollo:</strong></p>
    <code>npm i -D eslint</code>

    <p><strong>2. Inicializar la configuración de ESLint:</strong></p>
    <code>npx eslint --init</code>

    <p><strong>3. Ejecutar ESLint en un archivo específico:</strong></p>
    <code>npx eslint src/main.jsx</code>

    <p><strong>4. Instalar Prettier como dependencia de desarrollo:</strong></p>
    <code>npm i -D prettier</code>

    <p><strong>5. Formatear un archivo usando Prettier:</strong></p>
    <code>npx prettier src/main.jsx</code>

    <p><strong>6. Formatear y sobrescribir el archivo con Prettier:</strong></p>
    <code>npx prettier src/main.jsx --write</code>

    <p><strong>7. Si aún no existen, crea los siguientes archivos de configuración:</strong></p>

    <p>Crear archivo <code>.eslintrc.js</code>:</p>
    <pre><code>module.exports = {
      extends: ['airbnb', 'prettier', 'prettier/react'],
      rules: {
        // Agregar reglas específicas si es necesario
      },
    };</code></pre>
    <p>Crear archivo <code>.prettierrc.js</code>:</p>
    <pre><code>module.exports = {
      useTabs: true,
      semi: true,
      singleQuote: true,
      jsxSingleQuote: true,
      arrowParens: true,
      trailingComma: 'es5',
    };</code></pre>

    <p>
      <strong>¡Tip! Contamos con el comando "npx prettier . --check":</strong>
    </p>
    <p>
      se utiliza para verificar si los archivos en el directorio actual y sus
      subdirectorios cumplen con las reglas de formato establecidas por Prettier
      sin aplicar cambios, mostrando mensajes de error en caso de
      incumplimiento.
    </p>

    <p>
      <strong
        >¡IMPORTANTE! Crear los archivos ".prettierignore" y
        ".eslintignore":</strong
      >
    </p>
    <p>
      Esto permite especificar qué archivos o directorios deben ser excluidos de
      las reglas de formato de Prettier y las reglas de ESLint, respectivamente,
      para evitar cambios y análisis innecesarios en ciertos archivos dentro de
      nuestros proyectos. Como recomendacion personal, coloca para ignorar en
      ambos archivos la carpeta "dist" y en el archivo ".prettierignore",
      tambien ignora el "package-lock.json"
    </p>

    <p><strong>8. Instalar "npm i -D eslint-config-prettier":</strong></p>
    <p>
      Este paquete permite que las reglas de ESLint y Prettier trabajen juntas
      sin conflictos al desactivar las reglas de ESLint que podrían chocar con
      las de Prettier. Al hacerlo, se logra un código formateado de manera
      coherente y se mantienen las convenciones de calidad de código en el
      proyecto.
    </p>

    <p>
      <strong
        >9. Añade la configuracion "eslint-config-prettier" al archivo
        ".eslintrc.cjs":</strong
      >
    </p>
    <p>
      En tu archivo ".eslintrc.cjs", agrega una sección "extends" si aún no la
      tienes, y dentro de ella, agrega "eslint-config-prettier". Esto debe verse
      algo así:
      <pre>
        <code>
module.exports = { 
  extends: ["eslint:recommended", "eslint-config-prettier"],
  // ... otras configuraciones de ESLint ... 
};
</code>  
      </pre>
      Asegúrate de que "eslint-config-prettier" esté incluido en el array bajo
      "extends". Esto significa que estás extendiendo las reglas recomendadas de
      ESLint y, al mismo tiempo, desactivando cualquier regla que entre en
      conflicto con las reglas de formato de Prettier. Con estos pasos, has
      añadido "eslint-config-prettier" a tu configuración ESLint, lo que asegura
      que ESLint y Prettier trabajen juntos de manera armoniosa, evitando
      conflictos de reglas de formato en tu código.
    </p>

    <p>
      <strong
        >10. Configurar scripts en el archivo <code>package.json</code>:</strong
      >
    </p>

    <pre><code>"scripts": {
  "lint": "eslint --fix . ext .js,.jsx",
  "format": "prettier --write ."
}</code></pre>

    <h3>Uso de los comandos</h3>
    <ul>
      <li>
        <code>npm run lint</code>: Intenta corregir automáticamente problemas de
        estilo utilizando ESLint.
      </li>
      <li>
        <code>npm run format</code>: Formatea automáticamente los archivos
        utilizando Prettier.
      </li>
    </ul>

    <p>
      ¡Listo! Ahora tienes ESLint y Prettier configurados en tu proyecto de
      React.js.
    </p>

    <h3>Recomendaciones para una mejor integración con tu editor de código</h3>
    <p>
      Para una experiencia más fluida, integra las extenciones de ESLint y
      Prettier con tu editor de código.
    </p>
    <p>
      <strong>Configura las preferencias de Prettier:</strong>
    </p>
    <p>
      Abre el archivo de configuración de Visual Studio Code (puedes hacerlo
      presionando Ctrl + , o Cmd + , en Mac), en el apartado "User" busca la
      opción "Text Editor: Formatting" y habilita la opción "Format On save"
      para aplicar las reglas de prettier cada vez que guardes tus cambios.
    </p>
    <p><strong>¡Tip! ¿Cómo corregir el mensaje "Warning: React version not specified in eslint-plugin-react settings", cuando ejecutamos eslint?:</strong></p>
    <p>
      es una advertencia de ESLint que indica que en tu configuración de ESLint, específicamente en la configuración del plugin eslint-plugin-react, no se ha especificado la versión de React que estás utilizando en tu proyecto. Para solucionar esta advertencia, sigue estos pasos:
      <ol>
        <li>
          Abre tu archivo de configuración de ESLint, que generalmente se llama .eslintrc.js, .eslintrc.json, o .eslintrc.cjs, según cómo hayas configurado tu proyecto.
        </li>
      
        <li>
          Dentro del archivo, agrega una propiedad llamada "settings" que va a ser un objeto literal, dentro coloca otra propiedad de tipo objeto que tendrá el nombre "react" y agrega dentro la propiedad "version" con el valor "detect". Por ejemplo:
          <pre>
            <code>
  "settings": {
    "react": {
      "version": "detect" // O puedes especificar la versión de React que estás utilizando, por ejemplo, "16.8"
    }
  }
            </code>
          </pre>

        </li>
      </ol>
      Si usas "detect", ESLint tratará de detectar automáticamente la versión de React que estás utilizando en tu proyecto. Con estos pasos, has especificado la versión de React que estás utilizando en tu proyecto en la configuración del plugin eslint-plugin-react, lo que debería resolver la advertencia "Warning: React version not specified in eslint-plugin-react settings". Esto es importante para que ESLint pueda aplicar las reglas de React adecuadas para la versión que estás utilizando.
    </p>
  </body>
</html>